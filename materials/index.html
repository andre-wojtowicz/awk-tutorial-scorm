<!DOCTYPE html>
<html lang="pl">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/normalize.css">
  <link rel="stylesheet" href="assets/open-color.css">
  <link rel="stylesheet" href="assets/monophase/styles.css">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Samouczek AWK</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Samouczek AWK" />
<meta property="og:locale" content="pl" />
<meta property="og:site_name" content="Samouczek AWK" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Samouczek AWK" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","headline":"Samouczek AWK","name":"Samouczek AWK","url":"/"}</script>
<!-- End Jekyll SEO tag -->


  <script async src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>
  
  

<script src="js/scorm.js" type="text/javascript"></script></head>

  <body onload="ScormProcessInitialize();" onbeforeunload="ScormProcessTerminate();" onunload="ScormProcessTerminate();">
    <div class="container">
      <header class="masthead">
  <div class="masthead-title">
    <a href="/" title="Home">Samouczek AWK</a>
    <small class="tagline"></small>
  </div>

  
</header>


      <main>
        <article class="page">
  <h1 class="page-title"></h1>
  <h1 id="samouczek-awk">Samouczek AWK</h1>

<h2 id="podstawy">Podstawy</h2>

<link rel="stylesheet" href="assets/main.css" />

<link rel="shortcut icon" type="image/png" href="assets/favicon.png" />

<script src="assets/awk.js"></script>

<script src="assets/awk_tutorial.js"></script>

<script src="assets/ace.min.js"></script>

<script>
    var editors = {};
    var text_editors = {};
</script>

<p><em>AWK</em> to jÄ™zyk programowania, ktÃ³ry przyjmuje na wejÅ›ciu pliki, w ktÃ³rych dane sÄ… rozdzielone biaÅ‚ymi znakami (kolumny), sprawdza dla kolejnych linii warunki ich dalszego przetwarzania, a nastÄ™pnie wykonuje kod dla danej linii w przypadku speÅ‚nienia warunkÃ³w. JÄ™zyk <em>AWK</em> posiada <a href="https://en.wikipedia.org/wiki/AWK#Versions_and_implementations">wiele implementacji</a>, z ktÃ³rych jednÄ… z najpopularniejszych jest wersja GNU <a href="https://man7.org/linux/man-pages/man1/gawk.1.html"><code class="language-plaintext highlighter-rouge">gawk</code></a>. Program <code class="language-plaintext highlighter-rouge">awk</code> jest dostÄ™pny w zasadzie w kaÅ¼dej dystrybucji Linux, a w systemie wystÄ™puje najczÄ™Å›ciej jako dowiÄ…zanie symboliczne do wybranej implementacji jÄ™zyka <em>AWK</em>.</p>

<p>NajczÄ™Å›ciej program <code class="language-plaintext highlighter-rouge">awk</code> stosuje siÄ™ do szybkiego skryptowego przetwarzania tekstu bezpoÅ›rednio z poziomu terminala, tworzÄ…c tzw. jednolinijkowce. WyglÄ…da to nastÄ™pujÄ…co:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">awk</span> <span class="s1">'treÅ›Ä‡ skryptu przetwarzajÄ…cego dane wejÅ›ciowe'</span> plik_do_przetworzenia
</code></pre></div></div>

<p>PoniÅ¼ej znajdujÄ… siÄ™ dwa szablony stanowiÄ…ce podstawÄ™ skryptÃ³w <code class="language-plaintext highlighter-rouge">awk</code>:</p>

<ol>
  <li>Dla kaÅ¼dej linii, jeÅ›li <code class="language-plaintext highlighter-rouge">warunek</code> jest speÅ‚niony dla linii, uruchom <code class="language-plaintext highlighter-rouge">kod</code>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>warunek { kod }
</code></pre></div>    </div>
  </li>
  <li>Dla kaÅ¼dej linii, uruchom <code class="language-plaintext highlighter-rouge">kod</code>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ kod } 
</code></pre></div>    </div>
  </li>
</ol>

<hr />

<h3 id="przykÅ‚ad-1">PrzykÅ‚ad 1</h3>

<p>PoniÅ¼ej znajduje siÄ™ przykÅ‚ad polecenia <code class="language-plaintext highlighter-rouge">awk</code>, ktÃ³re po prostu wyÅ›wietla dane otrzymane na wejÅ›ciu z pliku <code class="language-plaintext highlighter-rouge">mail_list</code>. Zmienna <code class="language-plaintext highlighter-rouge">$0</code> oznacza caÅ‚Ä… aktualnie przetwarzanÄ… liniÄ™.</p>

<blockquote>
  <p>ğŸ’¡ Aby uruchomiÄ‡ kod, moÅ¼esz kliknÄ…Ä‡ w poniÅ¼szy terminal i nacisnÄ…Ä‡ klawisz <code class="language-plaintext highlighter-rouge">&lt;Enter&gt;</code> albo nacisnÄ…Ä‡ przycisk <code class="language-plaintext highlighter-rouge">[â–¶ Uruchom]</code>.</p>
</blockquote>

<div class="awk" data-awk_file="mail_list" data-awk_soln="hello_world0" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="hello_world0" class=" awk_input language-bash" style="float: left;">awk '{ print $0 }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("hello_world0", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["hello_world0"] = editor;
</script>

<p>PoniÅ¼ej znajduje siÄ™ przykÅ‚adowa zawartoÅ›Ä‡ pliku <code class="language-plaintext highlighter-rouge">mail_list</code>, ktÃ³ra jest przetwarzana przez <code class="language-plaintext highlighter-rouge">awk</code>:</p>

<div class="awk"><br />
<span class="awk_file_name_hover">ğŸ“œ mail_list</span>
<div spellcheck="false" class="awk_text" id="mail_list">Amelia       555-5553    amelia.zodiacusque@gmail.com       F
Anthony      555-3412    anthony.asserturo@hotmail.com      A
Becky        555-7685    becky.algebrarum@gmail.com         A
Bill         555-1675    bill.drowning@hotmail.com          A
Broderick    555-0542    broderick.aliquotiens@yahoo.com    R
Camilla      555-2912    camilla.infusarum@skynet.be        R
Fabius       555-1234    fabius.undevicesimus@ucb.edu       F
Julie        555-6699    julie.perscrutabor@skeeve.com      F
Yoeu         555-1331    yoeu.blah@blarg.co.uk              F
Martin       555-6480    martin.codicibus@hotmail.com       A
Samuel       555-3430    samuel.lanceolis@shu.edu           A
Jean-Paul    555-2127    jeanpaul.campanorum@nyu.edu        R
Eyau         555-1133    eyau@campos.cmyk.rgb               R
Bill         555-1337    billiam.billy@cal.tech.edu         R</div>
</div>
<script>
    var editor = ace.edit("mail_list");
    editor.setShowPrintMargin(false);
    editor.setReadOnly(true);
    editor.setOptions({
        maxLines: Infinity
    });
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(8);
    editor.renderer.setScrollMargin(3, 3);
    editor.setOptions({highlightActiveLine: false});
    editor.renderer.$cursorLayer.element.style.display = "none";
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/text");
    text_editors["mail_list"] = editor;
</script>

<p>Jak widaÄ‡, dane w pliku <code class="language-plaintext highlighter-rouge">mail_list</code> sÄ… zapisane w sposÃ³b kolumnowy, w tym wypadku oddzielone spacjami (liczba spacji nie ma znaczenia).</p>

<p>SpÃ³jrzmy na kolejny prosty przykÅ‚ad, ktÃ³ry nie stosuje warunkÃ³w przetwarzania. PoniÅ¼szy skrypt wyÅ›wietli pierwszÄ… kolumnÄ™ (<code class="language-plaintext highlighter-rouge">$1</code>):</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="hello_world" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="hello_world" class=" awk_input language-bash" style="float: left;">awk '{ print $1 }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("hello_world", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["hello_world"] = editor;
</script>

<hr />

<h3 id="zadanie-1">Zadanie 1</h3>

<p>SprÃ³bujemy wyÅ›wietliÄ‡ kolumny <code class="language-plaintext highlighter-rouge">$1</code> i <code class="language-plaintext highlighter-rouge">$2</code> oddzielone spacjÄ… <code class="language-plaintext highlighter-rouge">" "</code>. W skrypcie bÄ™dzie to wyglÄ…daÅ‚o mniej wiÄ™cej tak: <code class="language-plaintext highlighter-rouge">$1 " " $2</code>. Polecenie <code class="language-plaintext highlighter-rouge">print</code> przyjmuje wiele argumentÃ³w oddzielonych spacjami (nie ma potrzeby Å‚Ä…czenia danych np. za pomocÄ… znaku plus, tak jak to jest w niektÃ³rych innych jÄ™zykach programowania).</p>

<p>Zmodyfikuj poniÅ¼szy kod, dodajÄ…c <code class="language-plaintext highlighter-rouge">" "</code>.</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="hello_world2" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="hello_world2" class=" awk_input language-bash" style="float: left;">awk '{ print $1 $2 }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("hello_world2", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["hello_world2"] = editor;
</script>

<hr />

<h3 id="zadanie-2">Zadanie 2</h3>

<p>No dobra, a co z warunkami przetwarzania? WidzieliÅ›my wczeÅ›niej, Å¼e <code class="language-plaintext highlighter-rouge">$1</code> oznacza pierwszÄ… kolumnÄ™. UzupeÅ‚nij poniÅ¼szy kod tak, aby dla kaÅ¼dego Billa wyÅ›wietliÅ‚ siÄ™ jego numer telefonu.</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="column_1" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="column_1" class=" awk_input language-bash" style="float: left;">awk '$1 == "Bill" { }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("column_1", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["column_1"] = editor;
</script>

<hr />

<h3 id="zadanie-3">Zadanie 3</h3>

<p>SpÃ³jrzmy teraz na wariant z wieloma warunkami przetwarzania:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>warunek1 { kod1 } warunek2 { kod2 }
</code></pre></div></div>

<p>Popraw i uzupeÅ‚nij poniÅ¼szy skrypt tak, aby oprÃ³cz wyÅ›wietlenia wszystkich numerÃ³w telefonÃ³w osÃ³b o imieniu Bill, program wypisaÅ‚ rÃ³wnieÅ¼ imiÄ™ osoby z numerem telefonu <code class="language-plaintext highlighter-rouge">555-3430</code>.</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="phonenum" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="phonenum" class=" awk_input language-bash" style="float: left;">awk '$1 == "Bill" { print $1 }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("phonenum", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["phonenum"] = editor;
</script>

<hr />

<h3 id="przykÅ‚ad-2">PrzykÅ‚ad 2</h3>

<p>Zmienne <code class="language-plaintext highlighter-rouge">awk</code> mogÄ… byÄ‡ inicjalizowane w pierwszym warunku <code class="language-plaintext highlighter-rouge">BEGIN { x = 0 }</code>; jeÅ›li ich nie zainicjalizujemy wprost, to domyÅ›lnie majÄ… ustawionÄ… wartoÅ›Ä‡ 0. Na podobnej zasadzie dziaÅ‚a ostatni warunek <code class="language-plaintext highlighter-rouge">END</code>, ktÃ³ry uruchamia siÄ™ po zakoÅ„czeniu przetwarzania wszystkich wierszy.</p>

<p>Dotychczas uÅ¼ywaliÅ›my prostych skryptÃ³w <code class="language-plaintext highlighter-rouge">{ kod }</code> i <code class="language-plaintext highlighter-rouge">warunek { kod }</code>, bez poprzedzajÄ…cych ich warunkÃ³w <code class="language-plaintext highlighter-rouge">BEGIN</code> i <code class="language-plaintext highlighter-rouge">END</code>. Kod i warunki byÅ‚y wykonywane dla kaÅ¼dej przetwarzanej linii.</p>

<p>SprÃ³buj uruchomiÄ‡ poniÅ¼sze dwa przykÅ‚ady, tak aby zobaczyÄ‡, jak dziaÅ‚ajÄ… warunki <code class="language-plaintext highlighter-rouge">BEGIN</code> i <code class="language-plaintext highlighter-rouge">END</code>.</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="beginend" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="beginend" class=" awk_input language-bash" style="float: left;">awk 'BEGIN { print "start" } { print "dla kaÅ¼dej linii" } END { print "koniec" }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("beginend", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["beginend"] = editor;
</script>

<div class="awk" data-awk_file="mail_list" data-awk_soln="beginend2" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="beginend2" class=" awk_input language-bash" style="float: left;">awk 'BEGIN { x = 1000 } { x += 1 } END { print x }' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("beginend2", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["beginend2"] = editor;
</script>

<hr />

<h3 id="zadanie-4">Zadanie 4</h3>

<p>W poniÅ¼szym skrypcie kaÅ¼da przetwarzana linia oznacza zwiÄ™kszenie wartoÅ›ci zmiennej <code class="language-plaintext highlighter-rouge">s</code> o 5.</p>

<p><em>AWK</em> posiada funkcjÄ™ <code class="language-plaintext highlighter-rouge">length()</code>, ktÃ³ra jako argument przyjmuje kolumnÄ™ i zwraca liczbÄ™ znakÃ³w przetwarzanego ciÄ…gu tekstowego. ZmieÅ„ poniÅ¼szy kod tak, aby wyÅ›wietliÄ‡ Å‚Ä…cznÄ… liczbÄ™ znakÃ³w wszystkich imion.</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="vars1" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="vars1" class=" awk_input language-bash" style="float: left;">awk '{ s += 5 } END { print s } ' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("vars1", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["vars1"] = editor;
</script>

<hr />

<h3 id="zadanie-5">Zadanie 5</h3>

<p>W <em>AWK</em> moÅ¼na rÃ³wnieÅ¼ stosowaÄ‡ wyraÅ¼enia regularne. Regexy moÅ¼na dopasowywaÄ‡ do caÅ‚ej przetwarzanej linii:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/regex/ { kod }
</code></pre></div></div>

<p>lub do wybranej kolumny:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$3 ~ /regex/ { kod }
</code></pre></div></div>

<p>NastÄ™pujÄ…cy regex dopasowuje sÅ‚owa, ktÃ³re zawierajÄ… wyÅ‚Ä…cznie samogÅ‚oski: <code class="language-plaintext highlighter-rouge">/^[AEIOUYaeiouy]+$/</code>. UÅ¼yj go do wyÅ›wietlenia imion skÅ‚adajÄ…cych siÄ™ z samych samogÅ‚osek.</p>

<div class="awk" data-awk_file="mail_list" data-awk_soln="regex" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="regex" class=" awk_input language-bash" style="float: left;">awk '/^[AEIOUYaeiouy]+$/ {}' mail_list</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("regex", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["regex"] = editor;
</script>

<hr />

<h3 id="zadanie-6">Zadanie 6</h3>

<p>Czas na przepÅ‚yw sterowania! W <em>AWK</em>, podobniej jak w innych jÄ™zykach, mamy instrukcje warunkowe <code class="language-plaintext highlighter-rouge">if</code> i <code class="language-plaintext highlighter-rouge">else</code>. Schematyczne uÅ¼ycie moÅ¼e wyglÄ…daÄ‡ nastÄ™pujÄ…co:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opcjonalny_warunek { if (coÅ›_a &gt;= coÅ›_b) { kod1 } else { kod2 } }
</code></pre></div></div>

<p>PoniÅ¼szy plik zawiera dane dotyczÄ…ce imion, wieku i krajÃ³w:</p>

<div class="awk"><br />
<span class="awk_file_name_hover">ğŸ“œ people</span>
<div spellcheck="false" class="awk_text" id="people">Frances-Spence         90    USA
Yoshihide              72    JP
Nate                   21    USA
Moondog                83    USA
Michael-Fastbender     42    USA
Xiangyang              54    CN
Jordan-Etude           13    USA
Aditi-Acharya          83    IN
Miyoung                41    KR
Navya-Reddy            55    IN
Bolade-Ibrahim         28    NG
Jean-Bartik            87    USA
Leslie-Lamport         80    USA</div>
</div>
<script>
    var editor = ace.edit("people");
    editor.setShowPrintMargin(false);
    editor.setReadOnly(true);
    editor.setOptions({
        maxLines: Infinity
    });
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(8);
    editor.renderer.setScrollMargin(3, 3);
    editor.setOptions({highlightActiveLine: false});
    editor.renderer.$cursorLayer.element.style.display = "none";
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/text");
    text_editors["people"] = editor;
</script>

<p>UÅ¼yj instrukcji <code class="language-plaintext highlighter-rouge">if</code>/<code class="language-plaintext highlighter-rouge">else</code> tak, aby wyÅ›wietliÄ‡ imiona, ale osoby w wieku co najmniej 65 lat majÄ… mieÄ‡ przedrostek <code class="language-plaintext highlighter-rouge">(senior)</code>. Oczekiwany format wyjÅ›ciowych danych:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(senior) Frances-Spence
(senior) Yoshihide
Nate
...
Bolade-Ibrahim
(senior) Jean-Bartik
(senior) Leslie-Lamport
</code></pre></div></div>

<div class="awk" data-awk_file="people" data-awk_soln="ifelse" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="ifelse" class=" awk_input language-bash" style="float: left;">awk '{}' people</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("ifelse", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["ifelse"] = editor;
</script>

<hr />

<h3 id="zadanie-7">Zadanie 7</h3>

<p>Czas na wyraÅ¼enia logiczne! <em>AWK</em> wspiera wyraÅ¼enia zawierajÄ…ce koniunkcjÄ™ <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> i alternatywÄ™ <code class="language-plaintext highlighter-rouge">||</code>.</p>

<p>WyÅ›wietl imiona osÃ³b, ktÃ³re majÄ… co najmniej 65 lat <strong>oraz</strong> pochodzÄ… ze StanÃ³w Zjednoczonych.</p>

<div class="awk" data-awk_file="people" data-awk_soln="logical1" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="logical1" class=" awk_input language-bash" style="float: left;">awk '$2 &gt;= 65 {print $1}' people</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("logical1", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["logical1"] = editor;
</script>

<hr />

<h3 id="zadanie-8">Zadanie 8</h3>

<p>WyÅ›wietl imiona osÃ³b, ktÃ³re majÄ… co najmniej 65 lat <strong>lub</strong> pochodzÄ… z Nigerii.</p>

<div class="awk" data-awk_file="people" data-awk_soln="logical2" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="logical2" class=" awk_input language-bash" style="float: left;">awk '$2 &gt;= 65 {print $1}' people</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("logical2", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["logical2"] = editor;
</script>

<hr />

<h3 id="zadanie-9">Zadanie 9</h3>

<p>Podobnie jak wczeÅ›niej niejawnie tworzyliÅ›my zmiennÄ… uÅ¼ywajÄ…c <code class="language-plaintext highlighter-rouge">{ s += length($2) }</code>, moÅ¼emy stworzyÄ‡ dwie nowe zmienne do zliczenia osÃ³b w wieku co najmniej 65 lat pochodzÄ…cych z USA i spoza tego kraju.</p>

<p>SprÃ³buj wykonaÄ‡ to zadanie na dwa sposoby:</p>

<ol>
  <li>przetwarzajÄ…c kaÅ¼dÄ… liniÄ™ z osobÄ… w wieku 65 lat, a nastÄ™pnie uÅ¼ywajÄ…c <code class="language-plaintext highlighter-rouge">if</code>/<code class="language-plaintext highlighter-rouge">else</code> na <code class="language-plaintext highlighter-rouge">$3</code>,</li>
  <li>uÅ¼ywajÄ…c dwÃ³ch warunkÃ³w jednoczeÅ›nie, tj. pierwszy przetwarzajÄ…cy tylko osoby w wieku 65 lat z USA, a drugi przetwarzajÄ…cy tylko osoby w wieku 65 lat spoza USA (operator nierÃ³wnoÅ›ci to <code class="language-plaintext highlighter-rouge">!=</code>).</li>
</ol>

<p>W tym zadaniu schematycznie uÅ¼ycie kilku warunkÃ³w jednoczeÅ›nie wyglÄ…da nastÄ™pujÄ…co:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">awk</span> <span class="s1">'warunek1 { kod1 } warunek2 { kod2 } END { kod_na_koniec }'</span> plik
</code></pre></div></div>

<p>Twoje rozwiÄ…zanie powinno zawieraÄ‡ dwie liczby oddzielone spacjÄ…, tj. <code class="language-plaintext highlighter-rouge">4 2</code>.</p>

<div class="awk" data-awk_file="people" data-awk_soln="multPatt" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="multPatt" class="consoleH2 awk_input language-bash" style="float: left;">awk '{}' people</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("multPatt", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["multPatt"] = editor;
</script>

<hr />

<h3 id="zadanie-10">Zadanie 10</h3>

<p><em>AWK</em> posiada kilka dostÄ™pnych dla nas zmiennych wbudowanych. Oto kilka z nich:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Nazwa</th>
      <th>WartoÅ›Ä‡</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">FS</code></td>
      <td>separator pÃ³l/kolumn (ang. <em><strong>f</strong>ield <strong>s</strong>eparator</em>, domyÅ›lnie znak spacji)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">RS</code></td>
      <td>separator wierszy (ang. <em><strong>r</strong>ecord <strong>s</strong>epartor</em>, domyÅ›lnie znak nowej linii)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">NF</code></td>
      <td>liczba pÃ³l/kolumn (ang. <em><strong>n</strong>umber of <strong>f</strong>ields</em>)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">NR</code></td>
      <td>aktualna liczba przetworzonych wierszy (ang. <em>total <strong>n</strong>umber of <strong>r</strong>ecords seen so far</em>)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">$0</code></td>
      <td>caÅ‚a linia (wszystkie kolumny)</td>
    </tr>
  </tbody>
</table>

<p>SprÃ³buj uÅ¼yÄ‡ ktÃ³rychÅ› z powyÅ¼szych zmiennych tak, aby wyÅ›wietliÄ‡ tylko nieparzyste wiersze pliku <code class="language-plaintext highlighter-rouge">people</code> (operator modulo to <code class="language-plaintext highlighter-rouge">%</code>).</p>

<div class="awk" data-awk_file="people" data-awk_soln="odd" style="width: 100%;">
    <div style="display: flex;">
        <div spellcheck="false" contenteditable="true" role="textbox" id="odd" class=" awk_input language-bash" style="float: left;">awk '{}' people</div>
        <button class="awk_run" onclick="awk_run(this)">â–¶ Uruchom</button>
    </div>
    <samp class="awk_output"></samp>
</div>
<script>
    var editor = ace.edit("odd", {
        minLines: 1,
        maxLines: 2,
        showLineNumbers: false,
        readOnly: false,
        newLineMode: 'auto',
    });
    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.session.setUseWrapMode(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(20);
    editor.renderer.setScrollMargin(5, 5);
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/sh");
    
    row = editor.session.getLength() - 1;
    column = editor.session.getLine(row).length;
    editor.selection.moveTo(row, column);

    editors["odd"] = editor;
</script>

<hr />

<h2 id="pliki-skryptÃ³w-tablice-i-pÄ™tle">Pliki skryptÃ³w, tablice i pÄ™tle</h2>

<p>UÅ¼ywajÄ…c <code class="language-plaintext highlighter-rouge">awk</code> z poziomu terminala, dostÄ™pne sÄ… dla nas rÃ³wnieÅ¼ flagi wpÅ‚ywajÄ…ce na dziaÅ‚anie programu (niestety nie moÅ¼emy z nich wszystkich wprost skorzystaÄ‡ w internetowym symulatorze).
PoniÅ¼ej znajduje siÄ™ kilka istotniejszych przeÅ‚Ä…cznikÃ³w:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Flaga</th>
      <th style="text-align: left">PrzykÅ‚ad uÅ¼ycia</th>
      <th>Cel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-F</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">awk -F: ...</code></td>
      <td>wskazanie, Å¼e kolumny sÄ… oddzielone znakiem <code class="language-plaintext highlighter-rouge">:</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-f</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">awk -f script.awk ...</code></td>
      <td>wczytanie skryptu AWK z pliku zamiast jako argumentu programu</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-v</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">awk -v init=1 ...</code></td>
      <td>inicjalizacja zmiennej <code class="language-plaintext highlighter-rouge">init</code> z wartoÅ›ciÄ… 1 zamiast domyÅ›lnej 0;<br />rÃ³wnowaÅ¼ne z <code class="language-plaintext highlighter-rouge">awk 'BEGIN { init = 1 } ...</code></td>
    </tr>
  </tbody>
</table>

<p>W dalszej czÄ™Å›ci samouczka bÄ™dziemy pisaÄ‡ nieco dÅ‚uÅ¼sze skrypty. Wygodniej bÄ™dzie nam uruchamiaÄ‡ program <code class="language-plaintext highlighter-rouge">awk</code> przekazujÄ…c mu jako argument plik skryptu korzystajÄ…c z flagi <code class="language-plaintext highlighter-rouge">-f</code>, np. <code class="language-plaintext highlighter-rouge">awk -f file.awk input.txt</code>.</p>

<p>PoniÅ¼ej znajduje siÄ™ plik z zarobkami <code class="language-plaintext highlighter-rouge">earnings.txt</code>. NiektÃ³re osoby wystÄ™pujÄ… kilka razy.</p>

<div class="awk"><br />
<span class="awk_file_name_hover">ğŸ“œ earnings.txt</span>
<div spellcheck="false" aria-label="Earnings text source file" class="awk_text" id="earnings">Frances-Spence          90     USA
Yoshihide               72     JP
Nate                   -21     USA
Nate                    22     USA
Nate                   -65     USA
Moondog                 83     USA
Moondog                 24     USA
Michael-Fastbender      42     USA
Xiangyang               54     CN
Jordan-Etude            13     USA
Aditi-Acharya           83     IN
Miyoung                 41     KR
Frances-Spence         -80     USA
Frances-Spence          43     USA
Navya-Reddy             55     IN
Moondog                 13     USA
Bolade-Ibrahim          28     NG
Bolade-Ibrahim         -10     NG
Jean-Bartik             87     USA
Leslie-Lamport          80     USA</div>
</div>
<script>
    var editor = ace.edit("earnings");
    editor.setShowPrintMargin(false);
    editor.setReadOnly(true);
    editor.renderer.setShowGutter(false);
    editor.renderer.setPadding(8);
    editor.renderer.setScrollMargin(3, 3);
    editor.setOptions({highlightActiveLine: false});
    editor.renderer.$cursorLayer.element.style.display = "none";
    editor.setTheme("ace/theme/cobalt");
    editor.session.setMode("ace/mode/text");
    editor.setOptions({
        maxLines: Infinity
    });
    text_editors["earnings"] = editor;
</script>

<hr />

<h3 id="zadanie-11">Zadanie 11</h3>

<p>Rozpocznijmy od maÅ‚ej powtÃ³rki. WyÅ›wietl caÅ‚y wiersz <code class="language-plaintext highlighter-rouge">$0</code> jeÅ›li imiÄ™ to Frances-Spence.</p>

<blockquote>
  <p>ğŸ’¡ ZmieÅ„ poniÅ¼szy skrypt <code class="language-plaintext highlighter-rouge">.awk</code>, a nastÄ™pnie uruchom go klikajÄ…c w prawym dolnym rogu edytora na przycisk <code class="language-plaintext highlighter-rouge">[$ awk -f exercise_11.awk earnings.txt]</code>, ktÃ³ry zasymuluje uruchomienie programu <code class="language-plaintext highlighter-rouge">awk</code> w terminalu. MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy <code class="language-plaintext highlighter-rouge">&lt;Ctrl+Enter&gt;</code> lub <code class="language-plaintext highlighter-rouge">&lt;âŒ˜+Enter&gt;</code>.</p>
</blockquote>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="earnings" data-soln="exercise_11">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ exercise_11.awk</span>
        <div spellcheck="false" class="awk_source  language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="exercise_11">{ print $0 }</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f exercise_11.awk earnings.txt</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("exercise_11");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["exercise_11"] = editor;
</script>

<hr />

<h3 id="zadanie-12">Zadanie 12</h3>

<p>Tablice w <em>AWK</em> sÄ… sÅ‚ownikami, w ktÃ³rych klucze mogÄ… byÄ‡ dowolne (aczkolwiek sÄ… przeksztaÅ‚cane ostatecznie na ciÄ…gi znakÃ³w), a wartoÅ›ci rÃ³wnieÅ¼ mogÄ… byÄ‡ rÃ³wnieÅ¼ dowolne. Jak wszystkie zmienne w <em>AWK</em>, tablice nie wymagajÄ… inicjalizacji.</p>

<p>Np. jeÅ›li chcesz w tablicy dodaÄ‡ liczbÄ™ z kolumny 2 do wartoÅ›ci klucza o nazwie wartoÅ›ci kolumny 1, moÅ¼esz to zrobiÄ‡ tak: <code class="language-plaintext highlighter-rouge">sums[$1] += $2</code>.</p>

<p>SprawdÅºmy to. Zsumuj zarobki (kolumna 2) kaÅ¼dej osoby, a na koÅ„cu wypisz caÅ‚kowite zarobki osoby o imieniu Moondog uÅ¼ywajÄ…c <code class="language-plaintext highlighter-rouge">arr["Moondog"]</code> (przydatny bÄ™dzie warunek <code class="language-plaintext highlighter-rouge">END</code>; moÅ¼esz go umieÅ›ciÄ‡ w nowej linii). W dalszej czÄ™Å›ci materiaÅ‚Ã³w omÃ³wimy jak przejÅ›Ä‡ przez zarobki wszystkich osÃ³b.</p>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="earnings" data-soln="exercise_12">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ exercise_12.awk</span>
        <div spellcheck="false" class="awk_source  language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="exercise_12">{ print $0 }</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f exercise_12.awk earnings.txt</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("exercise_12");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["exercise_12"] = editor;
</script>

<hr />

<h3 id="zadanie-13">Zadanie 13</h3>

<p>No dobrze â€“ skoro juÅ¼ wiemy jak zsumowaÄ‡ zarobki poszczegÃ³lnych osÃ³b, to je wyÅ›wietlmy. <em>AWK</em> posiada pÄ™tlÄ™ <code class="language-plaintext highlighter-rouge">for</code>, ktÃ³rej schematyczne uÅ¼ycie moÅ¼e wyglÄ…daÄ‡ nastÄ™pujÄ…co:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="o">(</span>klucz <span class="k">in </span>tablica<span class="o">)</span> <span class="o">{</span> 
    print klucz <span class="s2">" "</span> tablica[klucz]
<span class="o">}</span>
</code></pre></div></div>

<p>WyÅ›wietl wszystkie imiona i odpowiadajÄ…ce im Å‚Ä…czne zarobki (imiÄ™ i Å‚Ä…czne zarobki oddziel pojedynczÄ… spacjÄ…).</p>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="earnings" data-soln="exercise_13">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ exercise_13.awk</span>
        <div spellcheck="false" class="awk_source awk_src_medium language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="exercise_13">{ print $0 }</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f exercise_13.awk earnings.txt</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("exercise_13");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["exercise_13"] = editor;
</script>

<hr />

<h3 id="zadanie-14">Zadanie 14</h3>

<p>Teraz uÅ¼yj dodatkowych zmiennych tak, aby znaleÅºÄ‡ osobÄ™ z najwyÅ¼szymi Å‚Ä…cznymi zarobkami (wyÅ›wietl imiÄ™ i Å‚Ä…czne zarobki oddzielone spacjÄ…). BÄ™dzie to wymagaÅ‚o poÅ‚Ä…czenia pÄ™tli <code class="language-plaintext highlighter-rouge">for</code> oraz instrukcji warunkowej typu:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">(</span>val <span class="o">&gt;</span> max<span class="o">)</span> <span class="o">{</span>
    max <span class="o">=</span> val
    ...
<span class="o">}</span>
</code></pre></div></div>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="earnings" data-soln="exercise_14">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ exercise_14.awk</span>
        <div spellcheck="false" class="awk_source awk_src_medium language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="exercise_14">{ print $0 }</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f exercise_14.awk earnings.txt</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("exercise_14");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["exercise_14"] = editor;
</script>

<hr />

<h3 id="przykÅ‚ad-3">PrzykÅ‚ad 3</h3>

<div class="awk" style="display: none;">
<div class="awk_text" id="empty_stdin"></div>
</div>
<script>
    var editor = ace.edit("empty_stdin");
    text_editors["empty_stdin"] = editor;
</script>

<p>Skrypty <em>AWK</em> mogÄ… rÃ³wnieÅ¼ pomijaÄ‡ przetwarzanie tekstu i dane wejÅ›ciowe. Na poczÄ…tku musimy jednak zwrÃ³ciÄ‡ uwagÄ™ na to, Å¼e jeÅ›li nie podamy w poleceniu <code class="language-plaintext highlighter-rouge">awk</code> jako ostatniego argumentu nazwy pliku do wczytania, program bÄ™dzie oczekiwaÅ‚ danych na standardowym wejÅ›ciu. W tym wypadku prostÄ… sztuczkÄ… jest przekierowanie na standardowe wejÅ›cie pustego ciÄ…gu znakÃ³w np. uÅ¼ywajÄ…c skÅ‚adni Bash <code class="language-plaintext highlighter-rouge">&lt;&lt;&lt; ''</code>. PrzykÅ‚adowo, w terminalu wyglÄ…daÅ‚oby to nastÄ™pujÄ…co:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">awk</span> <span class="nt">-f</span> script.awk <span class="o">&lt;&lt;&lt;</span> <span class="s1">''</span>
</code></pre></div></div>

<p>W poniÅ¼szym przykÅ‚adzie moÅ¼emy zobaczyÄ‡, Å¼e pomijamy dane wejÅ›ciowe oraz przy pomocy warunku <code class="language-plaintext highlighter-rouge">END</code> iterujemy po tablicy <code class="language-plaintext highlighter-rouge">arr</code>, ktÃ³rej kluczami sÄ… liczby caÅ‚kowite od 0 do 9:</p>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="empty_stdin" data-soln="loop_example">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ loop_example.awk</span>
        <div spellcheck="false" class="awk_source awk_src_medium language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="loop_example">END {
    for (i = 0; i &lt; 10; i++) {
        arr[i] = i*i;
        print i " =&gt; " arr[i]
    }
}</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f loop_example.awk &lt;&lt;&lt; ''</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("loop_example");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["loop_example"] = editor;
</script>

<hr />

<h3 id="zadanie-15">Zadanie 15</h3>

<p>Twoim zadaniem jest przejÅ›Ä‡ w pÄ™tli po przygotowanej wczeÅ›niej tablicy <code class="language-plaintext highlighter-rouge">arr</code> tak, aby dla kaÅ¼dego indeksu (klucza) wypisaÄ‡ indeks, spacjÄ™ i sumÄ™ bieÅ¼Ä…cÄ… wartoÅ›ci tablicy.</p>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="empty_stdin" data-soln="exercise_15">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ exercise_15.awk</span>
        <div spellcheck="false" class="awk_source awk_src_large language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="exercise_15">END {
    arr[0] = 0
    arr[1] = 1
    for (i = 2 ; i &lt; 10; i++) {        
        arr[i] += arr[i-1] + arr[i-2]
    }
    # Nie zmieniaj powyÅ¼szego kodu ^
    # WyÅ›wietl indeks i sumÄ™ bieÅ¼Ä…cÄ… od 0 do 9
    
}</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f exercise_15.awk &lt;&lt;&lt; ''</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("exercise_15");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["exercise_15"] = editor;
</script>

<hr />

<h3 id="zadanie-16">Zadanie 16</h3>

<p>W <em>AWK</em> moÅ¼emy sprawdziÄ‡, czy tablica zawiera klucz:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">(</span>klucz <span class="k">in </span>tablica<span class="o">)</span> <span class="o">{</span>
    ...
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    ...
<span class="o">}</span>
</code></pre></div></div>

<p>MoÅ¼emy rÃ³wnieÅ¼ usunÄ…Ä‡ klucz (i odpowiadajÄ…cÄ… mu wartoÅ›Ä‡) za pomocÄ…:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>delete tablica[klucz]
</code></pre></div></div>

<p>Twoim ostatnim zadaniem jest zaimplementowanie metody <a href="https://pl.wikipedia.org/wiki/Sito_Eratostenesa">sita Eratostenesa</a> do wyÅ›wietlenia liczb pierwszych nie wiÄ™kszych niÅ¼ 100.</p>

<p>Skorzystaj z tablicy i uÅ¼yj <code class="language-plaintext highlighter-rouge">delete</code> oraz <code class="language-plaintext highlighter-rouge">in</code> tak, aby usunÄ…Ä‡ wszystkie liczby, ktÃ³re nie sÄ… pierwsze. Po usuniÄ™ciu wszystkich liczb niebÄ™dÄ…cych liczbami pierwszymi, przejdÅº w pÄ™tli od 2 do 100 i wypisz pozostaÅ‚e w tablicy liczby uÅ¼ywajÄ…c czegoÅ› w stylu <code class="language-plaintext highlighter-rouge">if (number in arr)</code>.</p>

<!--
id - id
filename - Name of file you are writing awk in (.awk added)
soln - key of solution in awk_tutorial2.js
txt_source - id of text file with source text (.txt added)
awk_src_class - applied to text area to set height
-->
<div class="awk2" data-txt_source="empty_stdin" data-soln="exercise_16">
    <div class="awk_source_container">
        <span class="awk_source_filename">ğŸ“‹ exercise_16.awk</span>
        <div spellcheck="false" class="awk_source awk_src_large language-awk" aria-label="UmieÅ›Ä‡ tutaj swÃ³j kod awk" id="exercise_16">END {
    for (i = 2; i &lt; 100; i++) {
        arr[i] = i
    }
    # IdÅº i odsiewaj!
    
}</div>
        <div class="buttons">
            <button onclick="run(this)" title="MoÅ¼esz rÃ³wnieÅ¼ uÅ¼yÄ‡ kombinacji klawiszy &lt;Ctrl+Enter&gt; lub &lt;âŒ˜+Enter&gt;">$ awk -f exercise_16.awk &lt;&lt;&lt; ''</button>
        </div>
    </div>
    <samp class="awk_output">BLAH</samp>
</div>
<script>
    var editor = ace.edit("exercise_16");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/sh");
    editors["exercise_16"] = editor;
</script>

<h2 id="podsumowanie">Podsumowanie</h2>

<p>Jak widaÄ‡, w ostatnich zadaniach nie uÅ¼ywaliÅ›my juÅ¼ plikÃ³w z danymi wejÅ›ciowymi. <em>AWK</em> jest jÄ™zykiem, ktÃ³ry moÅ¼emy uÅ¼ywaÄ‡ w oderwaniu od danych tabelarycznych, jednakÅ¼e to wÅ‚aÅ›nie podczas pracy z tego typu danymi sprawdza siÄ™ on najlepiej. Co do zasady nie zaleca siÄ™ pisania zbyt skomplikowanych programÃ³w w <em>AWK</em>.</p>

<hr />

<p>Autorem samouczka jest <a href="https://github.com/n8ta">Nathaniel Tracy-Amoroso</a>. CzÄ™Å›Ä‡ zadaÅ„ i przykÅ‚adÃ³w zostaÅ‚a zaczerpniÄ™ta z <a href="https://www.gnu.org/software/gawk/manual/gawk.html">podrÄ™cznika uÅ¼ytkownika GNU awk</a> na licencji <a href="https://www.gnu.org/software/gawk/manual/gawk.html#GNU-Free-Documentation-License">GNU Free Documentation License</a>. Silnik <a href="https://www.npmjs.com/package/awkjs">awkjs</a> jest dystrybuowany na licencji <a href="https://github.com/petli-full/awkjs/blob/master/LICENSE">MIT</a>.</p>

</article>

      </main>

      <footer class="footer">
  <div class="footer-column">
    <p>
      <small>
        &copy;&nbsp;<time datetime="2024-08-18T10:33:52+00:00">2024</time>. All right reserved.
      </small>
    </p>
    <p>
      <small>
        Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> & <a href="https://github.com/zivhub/monophase" target="_blank">Monophase</a>
      </small>
    </p>
  </div>
  
</footer>

    </div>

    

    
  </body>
</html>
